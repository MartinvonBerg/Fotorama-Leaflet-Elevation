!function(window,document,$,undefined){"use strict";let numberOfboxes=document.querySelectorAll("[id^=multifotobox]").length;if(numberOfboxes>0){let allSliders=[];for(var allMaps=[],m=0;m<numberOfboxes;m++){let hasFotorama=1==document.querySelectorAll("[id^=mfotorama"+m+"]").length,hasMap=1==document.querySelectorAll("[id^=boxmap"+m+"]").length;if(hasFotorama)allSliders[m]=new SliderFotorama(m,"mfotorama"+m),allSliders[m].defSlider();else if(0===parseInt(pageVarsForJs[m].ngpxfiles)){let center=pageVarsForJs[m].mapcenter,zoom=pageVarsForJs[m].zoom,text=pageVarsForJs[m].markertext;allMaps[m]=new LeafletMap(m,"boxmap"+m,center,zoom),allMaps[m].createSingleMarker(text)}hasMap&hasFotorama&&(allMaps[m]=new LeafletMap(m,"boxmap"+m),allMaps[m].createFotoramaMarkers(pageVarsForJs[m].imgdata),document.querySelector("#mfotorama"+m).addEventListener("sliderchange",(function waschanged(e){allMaps[e.detail.slider].mapFlyTo(pageVarsForJs[e.detail.slider].imgdata[e.detail.newslide-1].coord);let m=e.detail.slider,nr=e.detail.newslide-1;allMaps[m].map.removeLayer(allMaps[m].newmarker),allMaps[m].storemarker.setIcon(allMaps[m].myIcon1),allMaps[m].newmarker.setZIndexOffset(-500),allMaps[m].storemarker.addTo(allMaps[m].map),allMaps[m].storemarker=allMaps[m].mrk[nr],allMaps[m].newmarker=allMaps[m].mrk[nr],allMaps[m].map.removeLayer(allMaps[m].mrk[nr]),allMaps[m].newmarker.setIcon(allMaps[m].myIcon3),allMaps[m].newmarker.setZIndexOffset(500),allMaps[m].newmarker.addTo(allMaps[m].map)})),document.querySelector("#mfotorama"+m).addEventListener("sliderload",(function wasloaded(e){let m=e.detail.slider,nr=e.detail.newslide-1;allMaps[m].storemarker=allMaps[m].mrk[nr],allMaps[m].newmarker=allMaps[m].mrk[nr],allMaps[m].map.removeLayer(allMaps[m].mrk[nr]),allMaps[m].newmarker.setIcon(allMaps[m].myIcon3),allMaps[m].newmarker.setZIndexOffset(500),allMaps[m].newmarker.addTo(allMaps[m].map)})),document.querySelector("#boxmap"+m).addEventListener("mapmarkerclick",(function markerclicked(e){allSliders[e.detail.map].setSliderIndex(e.detail.marker)})))}window.addEventListener("load",mapResize()),window.addEventListener("resize",mapResize())}function mapResize(){let fotowidth;$("[id^=mfotorama]").width()<480?$(".fotorama__caption__wrapm, .fotorama__caption").hide():$(".fotorama__caption__wrapm, .fotorama__caption").show();for(let m=0;m<numberOfboxes;m++){let wmap,hmap,ratioMap=$("#map"+m).width()/$("#map"+m).height();"ratioMap"in pageVarsForJs[m]||(pageVarsForJs[m].ratioMap=ratioMap);let _group=new L.featureGroup(allMaps[m].mrk);isNaN(ratioMap)||(allMaps[m].bounds=allMaps[m].setBoundsToMarkers(m,_group))}}}(window,document,jQuery);
//# sourceMappingURL=fotorama-multi-reduced.min.js.map