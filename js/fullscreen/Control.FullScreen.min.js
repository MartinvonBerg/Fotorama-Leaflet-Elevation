/*!
* Based on package 'screenfull'
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
* Added definition for using screenfull as an amd module
* Must be placed before the definition of leaflet.fullscreen
* as it is required by that
*/
!function(root,factory){"function"==typeof define&&define.amd?define("screenfull",factory):"object"==typeof module&&module.exports?module.exports.screenfull=factory():root.screenfull=factory()}("undefined"!=typeof self?self:this,(function(){"use strict";var document="undefined"!=typeof window&&void 0!==window.document?window.document:{},fn=function(){for(var val,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=fnMap.length,ret={};i<l;i++)if((val=fnMap[i])&&val[1]in document){for(i=0;i<val.length;i++)ret[fnMap[0][i]]=val[i];return ret}return!1}(),eventNameMap={change:fn.fullscreenchange,error:fn.fullscreenerror},screenfull={request:function(element,options){return new Promise(function(resolve,reject){var onFullScreenEntered=function(){this.off("change",onFullScreenEntered),resolve()}.bind(this);this.on("change",onFullScreenEntered);var returnPromise=(element=element||document.documentElement)[fn.requestFullscreen](options);returnPromise instanceof Promise&&returnPromise.then(onFullScreenEntered).catch(reject)}.bind(this))},exit:function(){return new Promise(function(resolve,reject){if(this.isFullscreen){var onFullScreenExit=function(){this.off("change",onFullScreenExit),resolve()}.bind(this);this.on("change",onFullScreenExit);var returnPromise=document[fn.exitFullscreen]();returnPromise instanceof Promise&&returnPromise.then(onFullScreenExit).catch(reject)}else resolve()}.bind(this))},toggle:function(element,options){return this.isFullscreen?this.exit():this.request(element,options)},onchange:function(callback){this.on("change",callback)},onerror:function(callback){this.on("error",callback)},on:function(event,callback){var eventName=eventNameMap[event];eventName&&document.addEventListener(eventName,callback,!1)},off:function(event,callback){var eventName=eventNameMap[event];eventName&&document.removeEventListener(eventName,callback,!1)},raw:fn};return fn?(Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[fn.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[fn.fullscreenEnabled])}}}),screenfull):{isEnabled:!1}})),
/*!
* leaflet.fullscreen
*/
function(root,factory){"function"==typeof define&&define.amd?define("leafletFullScreen",["leaflet","screenfull"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("leaflet"),require("screenfull")):factory(root.L,root.screenfull)}("undefined"!=typeof self?self:this,(function(leaflet,screenfull){"use strict";return leaflet.Control.FullScreen=leaflet.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},_screenfull:screenfull,onAdd:function(map){var className="leaflet-control-zoom-fullscreen",container,content="";return container=map.zoomControl&&!this.options.forceSeparateButton?map.zoomControl._container:leaflet.DomUtil.create("div","leaflet-bar"),this.options.content?content=this.options.content:className+=" fullscreen-icon",this._createButton(this.options.title,className,content,container,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleState,this),container},onRemove:function(){leaflet.DomEvent.off(this.link,"click",leaflet.DomEvent.stop).off(this.link,"click",this.toggleFullScreen,this),this._screenfull.isEnabled&&(leaflet.DomEvent.off(this._container,this._screenfull.raw.fullscreenchange,leaflet.DomEvent.stop).off(this._container,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,this),leaflet.DomEvent.off(document,this._screenfull.raw.fullscreenchange,leaflet.DomEvent.stop).off(document,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,this))},_createButton:function(title,className,content,container,fn,context){return this.link=leaflet.DomUtil.create("a",className,container),this.link.href="#",this.link.title=title,this.link.innerHTML=content,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",title),L.DomEvent.disableClickPropagation(container),leaflet.DomEvent.on(this.link,"click",leaflet.DomEvent.stop).on(this.link,"click",fn,context),this._screenfull.isEnabled&&(leaflet.DomEvent.on(container,this._screenfull.raw.fullscreenchange,leaflet.DomEvent.stop).on(container,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,context),leaflet.DomEvent.on(document,this._screenfull.raw.fullscreenchange,leaflet.DomEvent.stop).on(document,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,context)),this.link},toggleFullScreen:function(){var map=this._map;map._exitFired=!1,map._isFullscreen?(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.exit():(leaflet.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:map._container,"leaflet-pseudo-fullscreen"),map.invalidateSize()),map.fire("exitFullscreen"),map._exitFired=!0,map._isFullscreen=!1):(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.request(this.options.fullscreenElement?this.options.fullscreenElement:map._container):(leaflet.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:map._container,"leaflet-pseudo-fullscreen"),map.invalidateSize()),map.fire("enterFullscreen"),map._isFullscreen=!0)},_toggleState:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel,this._map._isFullscreen?L.DomUtil.removeClass(this.link,"leaflet-fullscreen-on"):L.DomUtil.addClass(this.link,"leaflet-fullscreen-on")},_handleFullscreenChange:function(){var map=this._map;map.invalidateSize(),this._screenfull.isFullscreen||map._exitFired||(map.fire("exitFullscreen"),map._exitFired=!0,map._isFullscreen=!1)}}),leaflet.Map.include({toggleFullscreen:function(){this.fullscreenControl.toggleFullScreen()}}),leaflet.Map.addInitHook((function(){this.options.fullscreenControl&&this.addControl(leaflet.control.fullscreen(this.options.fullscreenControlOptions))})),leaflet.control.fullscreen=function(options){return new leaflet.Control.FullScreen(options)},{leaflet:leaflet,screenfull:screenfull}}));
//# sourceMappingURL=Control.FullScreen.min.js.map