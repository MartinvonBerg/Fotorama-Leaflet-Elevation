!function(root,factory){"function"==typeof define&&define.amd?define(["leaflet"],factory):"object"==typeof modules&&module.exports?module.exports=factory(require("leaflet")):factory(L)}(this,(function(L){"use strict";return L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(map){var className="leaflet-control-zoom-fullscreen",container,content="";return container=map.zoomControl&&!this.options.forceSeparateButton?map.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this.options.content?content=this.options.content:className+=" fullscreen-icon",this._createButton(this.options.title,className,content,container,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),container},onRemove:function(map){L.DomEvent.off(this.link,"click",L.DomEvent.stopPropagation).off(this.link,"click",L.DomEvent.preventDefault).off(this.link,"click",this.toggleFullScreen,this),L.DomEvent.off(this._container,screenfull.raw.fullscreenchange,L.DomEvent.stopPropagation).off(this._container,screenfull.raw.fullscreenchange,L.DomEvent.preventDefault).off(this._container,screenfull.raw.fullscreenchange,this._handleFullscreenChange,this),L.DomEvent.off(document,screenfull.raw.fullscreenchange,L.DomEvent.stopPropagation).off(document,screenfull.raw.fullscreenchange,L.DomEvent.preventDefault).off(document,screenfull.raw.fullscreenchange,this._handleFullscreenChange,this)},_createButton:function(title,className,content,container,fn,context){return this.link=L.DomUtil.create("a",className,container),this.link.href="#",this.link.title=title,this.link.innerHTML=content,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",title),L.DomEvent.on(this.link,"click",L.DomEvent.stopPropagation).on(this.link,"click",L.DomEvent.preventDefault).on(this.link,"click",fn,context),L.DomEvent.on(container,screenfull.raw.fullscreenchange,L.DomEvent.stopPropagation).on(container,screenfull.raw.fullscreenchange,L.DomEvent.preventDefault).on(container,screenfull.raw.fullscreenchange,this._handleFullscreenChange,context),L.DomEvent.on(document,screenfull.raw.fullscreenchange,L.DomEvent.stopPropagation).on(document,screenfull.raw.fullscreenchange,L.DomEvent.preventDefault).on(document,screenfull.raw.fullscreenchange,this._handleFullscreenChange,context),this.link},toggleFullScreen:function(){var map=this._map;map._exitFired=!1,map._isFullscreen?(screenfull.isEnabled&&!this.options.forcePseudoFullscreen?screenfull.exit():(L.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:map._container,"leaflet-pseudo-fullscreen"),map.invalidateSize()),map.fire("exitFullscreen"),map._exitFired=!0,map._isFullscreen=!1):(screenfull.isEnabled&&!this.options.forcePseudoFullscreen?screenfull.request(this.options.fullscreenElement?this.options.fullscreenElement:map._container):(L.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:map._container,"leaflet-pseudo-fullscreen"),map.invalidateSize()),map.fire("enterFullscreen"),map._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleFullscreenChange:function(){var map=this._map;map.invalidateSize(),screenfull.isFullscreen||map._exitFired||(map.fire("exitFullscreen"),map._exitFired=!0,map._isFullscreen=!1)}}),L.Map.include({toggleFullscreen:function(){this.fullscreenControl.toggleFullScreen()}}),L.Map.addInitHook((function(){this.options.fullscreenControl&&this.addControl(L.control.fullscreen(this.options.fullscreenControlOptions))})),L.control.fullscreen=function(options){return new L.Control.FullScreen(options)},L})),
/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/
function(){"use strict";var document="undefined"!=typeof window&&void 0!==window.document?window.document:{},isCommonjs="undefined"!=typeof module&&module.exports,fn=function(){for(var val,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=fnMap.length,ret={};i<l;i++)if((val=fnMap[i])&&val[1]in document){for(i=0;i<val.length;i++)ret[fnMap[0][i]]=val[i];return ret}return!1}(),eventNameMap={change:fn.fullscreenchange,error:fn.fullscreenerror},screenfull={request:function(element,options){return new Promise(function(resolve,reject){var onFullScreenEntered=function(){this.off("change",onFullScreenEntered),resolve()}.bind(this);this.on("change",onFullScreenEntered);var returnPromise=(element=element||document.documentElement)[fn.requestFullscreen](options);returnPromise instanceof Promise&&returnPromise.then(onFullScreenEntered).catch(reject)}.bind(this))},exit:function(){return new Promise(function(resolve,reject){if(this.isFullscreen){var onFullScreenExit=function(){this.off("change",onFullScreenExit),resolve()}.bind(this);this.on("change",onFullScreenExit);var returnPromise=document[fn.exitFullscreen]();returnPromise instanceof Promise&&returnPromise.then(onFullScreenExit).catch(reject)}else resolve()}.bind(this))},toggle:function(element,options){return this.isFullscreen?this.exit():this.request(element,options)},onchange:function(callback){this.on("change",callback)},onerror:function(callback){this.on("error",callback)},on:function(event,callback){var eventName=eventNameMap[event];eventName&&document.addEventListener(eventName,callback,!1)},off:function(event,callback){var eventName=eventNameMap[event];eventName&&document.removeEventListener(eventName,callback,!1)},raw:fn};fn?(Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[fn.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[fn.fullscreenEnabled])}}}),isCommonjs?module.exports=screenfull:window.screenfull=screenfull):isCommonjs?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}();
//# sourceMappingURL=Control.FullScreen.min.js.map